@page "/extensions"

@inject IControllerServices<PhoneExtension> _ExtensionsService;


<h3>
    Lista de Extensiones
</h3>

<AddExtensionComponent OnExtensionAdded="UpdatedExtension" />
<TableExtensionsComponent Extensions="@phoneExtensions"/>

@code {
    private List<PhoneExtension> phoneExtensions = new();

    protected override async Task OnInitializedAsync()
    {
        base.OnInitializedAsync();
        phoneExtensions = _ExtensionsService.GetAll().OrderBy(i => i.Extension).ToList();
    }
    private void UpdatedExtension()
    {
        phoneExtensions = _ExtensionsService.GetAll().OrderBy(i => i.Extension).ToList();
    }
}
