<h3>AssignComputerComponent</h3>


@inject IControllerServices<ComputerModel> _ComputerService
@inject IControllerServices<Employee> _EmployeeService


    <div class="d-flex flex-row">
    <EditForm Model="@ComputerModel" class="">
        <InputSelect @bind-Value="ComputerModel.EmployeeId" class="form-control">
            <option value="0">Sin Asignar</option>
            @foreach (Employee item in Employees)
            {
                <option value="@item.EmployeeId">@item.Name @item.LastName</option>
            }
        </InputSelect>
    </EditForm>
    <button class="btn btn-outline-info" @onclick="Update">
        Asignar
    </button>


    </div>




@code {
    [Parameter]
    public EventCallback OnComputerUpdated { get; set; }
    [Parameter]
    public ComputerModel ComputerModel { get; set; }

    List<Employee> Employees = new();
    protected override async Task OnInitializedAsync()
    {
        base.OnInitializedAsync();
        Employees = _EmployeeService.GetAll();
    }

    private async Task Update()
    {
        try
        {
            _ComputerService.Update(ComputerModel);
            OnComputerUpdated.InvokeAsync();
        }
        catch (Exception e)
        {
            
            throw;
        }
        
    }
}
